# Sistema de Atendimento - ClÃ­nica OdontolÃ³gica

## ğŸ“Œ ApresentaÃ§Ã£o do Projeto Integrador - Etapa Final 

## ğŸ“Œ Link do VÃ­deo de apresentaÃ§Ã£o: https://youtu.be/MfnLnJlE7F0

Este projeto Ã© um sistema de gestÃ£o de clÃ­nica odontolÃ³gica desenvolvido em **Laravel 10**, utilizando **Eloquent ORM**, autenticaÃ§Ã£o com **Laravel Breeze/Sanctum** e testes automatizados.

---

## ğŸ—„ï¸ Modelagem de Dados
O sistema Ã© baseado em trÃªs entidades principais:

- **Pacientes**
  - Nome, telefone, e-mail, data de nascimento
- **Dentistas**
  - Nome, especialidade, telefone, e-mail
- **Atendimentos**
  - Relacionado a um paciente e um dentista
  - Data do atendimento, descriÃ§Ã£o, status (Agendado, ConcluÃ­do, Cancelado)

### Relacionamentos
- Um **Paciente** pode ter vÃ¡rios **Atendimentos**
- Um **Dentista** pode realizar vÃ¡rios **Atendimentos**
- Cada **Atendimento** pertence a **um Paciente** e **um Dentista**

---

## ğŸ“‚ Estrutura do Projeto
O projeto segue a estrutura padrÃ£o do Laravel:

- **Controllers:** `app/Http/Controllers`
- **Models:** `app/Models`
- **Requests (validaÃ§Ã£o):** `app/Http/Requests`
- **Migrations e Seeders:** `database/migrations`, `database/seeders`
- **Testes Automatizados:** `tests/Feature` e `tests/Unit`
- **Rotas API:** `routes/api.php`

## PadrÃµes de Projeto (adicionados)


1) **Contracts (interfaces)**

-app/Contracts/Strategies/SchedulingStrategyInterface.php â€” interface da Strategy (mÃ©todo canSchedule(array $data): bool).

-app/Contracts/Factories/AtendimentoFactoryInterface.php â€” interface da Factory (mÃ©todo make(array $data): Atendimento).

-(Estas duas foram criadas para desacoplar Strategy e Factory das implementaÃ§Ãµes.)

2) **Factory Method (padrÃ£o Gamma)**

-app/Factories/AtendimentoCreator.php â€” classe abstrata base (declara createFactory() / novoAtendimento() conforme a versÃ£o aplicada).

-app/Factories/AtendimentoPresencialCreator.php â€” Creator concreto para atendimentos presenciais.

-app/Factories/AtendimentoOnlineCreator.php â€” Creator concreto para atendimentos online.

-app/Factories/AtendimentoPresencialFactory.php â€” Factory concreta que implementa AtendimentoFactoryInterface (mÃ©todo make).

-app/Factories/AtendimentoOnlineFactory.php â€” Factory concreta que implementa AtendimentoFactoryInterface.

-(Esses arquivos implementam o Factory Method no estilo Creator â†’ ConcreteCreator â†’ ConcreteFactory, e garantem createFactory()/make() disponÃ­veis.)

3) **Strategy com Context**

-app/Contexts/SchedulingContext.php â€” Context do padrÃ£o Strategy (usa a interface SchedulingStrategyInterface e expÃµe canSchedule()).

-app/Strategies/SimpleSchedulingStrategy.php â€” implementaÃ§Ã£o simples da Strategy.

-app/Strategies/NoOverlapSchedulingStrategy.php â€” implementaÃ§Ã£o que checa conflitos de horÃ¡rio.

4) **Handlers / CQRS (inicial)**

-app/Commands/CreateAtendimentoCommand.php â€” Command (dados para criar atendimento).

-app/Handlers/CreateAtendimentoHandler.php â€” Handler do comando, atualizado para:

-usar o SchedulingContext para checagem de strategy,

-escolher o Creator (online/presencial),

-chamar createFactory() â†’ make() para obter o model,

-save() do model.

-app/Queries/GetAtendimentosQuery.php e app/Handlers/GetAtendimentosHandler.php â€” query/handler para leitura (se vocÃª aplicou essa parte).

5) **Provider (binding de DI)**

-app/Providers/PatternServiceProvider.php â€” registra bindings bÃ¡sicos no container (ex.: bind da SchedulingStrategyInterface para NoOverlapSchedulingStrategy, e singletons dos -handlers caso desejado).

---
## ğŸ‘¥ Autores

* **Matheus Grochovski**
* **Luan Ribeiro**

ğŸ“ Projeto desenvolvido para fins de aprendizado e prÃ¡tica dos conceitos de **Desenvolvimento Back-end**.

---

## ğŸš€ Como Executar

### 1. Clonar o repositÃ³rio
```bash
git clone https://github.com/cumbuca13/Entrega-Parcial-1-Modelagem-Estrutura-e-Migra-es.git
cd Entrega-Parcial-1-Modelagem-Estrutura-e-Migra-es
2. Instalar dependÃªncias
bash
Copiar cÃ³digo
composer install
npm install && npm run build
3. Configurar o .env
Copie o arquivo de exemplo:

bash
Copiar cÃ³digo
cp .env.example .env
Edite as credenciais do banco:

env
Copiar cÃ³digo
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=root
DB_PASSWORD=
4. Gerar chave da aplicaÃ§Ã£o
bash
Copiar cÃ³digo
php artisan key:generate
5. Rodar migrations e seeders
bash
Copiar cÃ³digo
php artisan migrate:fresh --seed
6. Rodar servidor local
bash
Copiar cÃ³digo
php artisan serve
Acesse: http://127.0.0.1:8000

âœ… Testes Automatizados
Para rodar os testes unitÃ¡rios e de feature:

bash
Copiar cÃ³digo
php artisan test
Exemplos de testes incluÃ­dos:

ValidaÃ§Ã£o de e-mail (UnitÃ¡rio)

CriaÃ§Ã£o de Pacientes via API

CriaÃ§Ã£o de Dentistas via API

CriaÃ§Ã£o de Atendimentos via API (com relacionamento Paciente/Dentista)

ğŸ“Œ Endpoints Principais (API)
Todas as rotas estÃ£o protegidas por auth:sanctum.

POST /register â†’ Registrar usuÃ¡rio

POST /login â†’ Login e geraÃ§Ã£o de token

GET /pacientes â†’ Listar pacientes

POST /pacientes â†’ Criar paciente

GET /dentistas â†’ Listar dentistas

POST /dentistas â†’ Criar dentista

GET /atendimentos â†’ Listar atendimentos (com paciente e dentista)

POST /atendimentos â†’ Criar atendimento

ğŸ‘¨â€ğŸ’» Tecnologias Utilizadas
PHP 8.x

Laravel 10

MySQL

Laravel Breeze + Sanctum

PHPUnit

